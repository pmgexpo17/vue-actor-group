!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("string-pixel-width")):"function"==typeof define&&define.amd?define(["string-pixel-width"],e):"object"==typeof exports?exports["vue-actor-group"]=e(require("string-pixel-width")):t["vue-actor-group"]=e(t["string-pixel-width"])}(window,function(i){return o={},n.m=r=[function(t,e){t.exports=i},function(t,e,i){"use strict";i.r(e);var r=i(0),n=i.n(r);function o(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function r(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.name=t,this.prev=null,i&&(this.layout=i),this.__init(e)}return function(t,e,i){e&&o(t.prototype,e),i&&o(t,i)}(r,[{key:"__init",value:function(t){if(t){var e=t.prev;this.prev=e||t,t.prev=this}this.halfLabelWidth=this.evalHalfLabelWidth(),console.log("actor, labelwidth : ",this.name,this.labelWidth),this.centerX=this.evalCenterX(t)}},{key:"bodyHeight",value:function(t){return(0<arguments.length&&void 0!==t?t:1)*this.layout.initBodyHeight}},{key:"evalCenterX",value:function(t){return t||(t=this),this.leftOffset(t)+this.halfLabelWidth}},{key:"centerY",value:function(t){var e=0<arguments.length&&void 0!==t?t:0,i=this.layout.topMargin+this.labelHeight;return 0==e?i:i+this.bodyHeight(e)+20}},{key:"evalTextWidth",value:function(t){return n()(t,{font:this.layout.font,size:this.layout.fontSize})}},{key:"evalHalfLabelWidth",value:function(t){var e=0<arguments.length&&void 0!==t?t:this.name,i=n()(e,{font:this.layout.font,size:this.layout.fontSize});return this.layout.leftPad+Math.round(i/2)}},{key:"labelXOffset",value:function(t){return 0<arguments.length&&void 0!==t&&t?Math.round(this.layout.leftMargin/2):this.layout.leftMargin+this.labelWidth}},{key:"labelY",value:function(t){var e=0<arguments.length&&void 0!==t?t:0;return 0==e?this.layout.topMargin:this.centerY(e)}},{key:"leftOffset",value:function(t){for(var e=0,i=this;i!=t;)e+=i.prev.labelXOffset(),i=i.prev;return e+=i.labelXOffset(!0),e}},{key:"textY",value:function(t){var e=0<arguments.length&&void 0!==t?t:0;return this.labelY(e)+this.layout.fontSize+this.layout.topPad-this.layout.strokeWidth}},{key:"arrowCoords",value:function(t){var e=this.findMember(t.actorTo),i={},r=e.centerX<this.centerX?-1:1;i.arrowX1=this.centerX+r*this.layout.halfBodyWidth;var n=this.layout.halfBodyWidth+this.layout.arrowHeadSize+this.layout.strokeWidth;i.arrowX2=e.centerX-r*n;var o=r<1?this.centerX-this.prev.centerX:e.centerX-e.prev.centerX;return i.arrowTextX=this.arrowTextX(t,o),i.arrowTextX+=r<1?e.centerX:this.centerX,i}},{key:"arrowTextX",value:function(t,e){var i=this.evalTextWidth(t.value),r=e-2*this.layout.halfBodyWidth;return Math.round((r-i)/2)+this.layout.halfBodyWidth}},{key:"addArtifact",value:function(t){var e=Object.assign({},t);"transition"==t.type&&Object.assign(e,this.arrowCoords(t)),e.bodyYOffset+=this.layout.topMargin,t.programIndex&&(e.bodyYOffset+=this.labelHeight);var i=this.centerY(e.bodyHtFactor)-20-this.labelHeight;return e.bodyYOffset>i&&e.bodyHtFactor++,e}},{key:"findMember",value:function(t){if(this.name==t)return this;for(var e=this.prev;e.name!=t&&e.name!=this.name;)e=e.prev;return e}},{key:"arrowX1",get:function(){return this.centerX+this.layout.halfBodyWidth}},{key:"bodyWidth",get:function(){return 2*this.layout.halfBodyWidth}},{key:"bodyX",get:function(){return this.centerX-this.layout.halfBodyWidth}},{key:"bodyY",get:function(){return this.centerY(0)+10}},{key:"labelHeight",get:function(){return this.layout.fontSize+2*this.layout.topPad}},{key:"labelWidth",get:function(){return 2*this.halfLabelWidth}},{key:"labelX",get:function(){return this.centerX-this.halfLabelWidth}},{key:"textX",get:function(){return this.centerX-this.halfLabelWidth+this.layout.leftPad}}]),r}(),l={first:null,setConfig:function(t){a.prototype.layout=t},new:function(t,e){var i=1<arguments.length&&void 0!==e?e:null,r=new a(t,this.first,i);return this.first||(this.first=r),r},addArtifact:function(t){return this.first?this.first.findMember(t.actorFrom).addArtifact(t):[]},reset:function(){this.first=null}};e.default=l}],n.c=o,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1);function n(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return r[t].call(e.exports,e,e.exports,n),e.l=!0,e.exports}var r,o});